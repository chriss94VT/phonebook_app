{"version":3,"sources":["Components/Notification.js","Services/login_service.js","Components/LoginForm.js","Services/entry_service.js","Components/PhonebookApp.js","index.js"],"names":["Notification","message","style","color","login","credentials","a","axios","post","response","data","LoginForm","useState","username","setUsername","password","setPassword","setUser","postLogin","event","preventDefault","LoginService","user","console","error","onChange","target","value","type","onClick","baseURL","getAll","get","create","newPerson","update","id","updatedPerson","put","remove","delete","PhonebookApp","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setMessage","getPersons","phoneService","entries","useEffect","personList","map","person","name","toLowerCase","trim","includes","key","number","removeUser","handleAddPerson","personObj","forEach","match","answer","window","confirm","allUsers","newUser","concat","setTimeout","onSubmit","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.76734ebe.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Notification = ({ message }) => {\n\n    const style = {\n        color: 'green',\n    }\n\n  return (\n    <>\n      <p style={style}>{message}</p>\n    </>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/login\";\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default {\n  login\n};\n","import React, { useState } from \"react\";\nimport LoginService from \"../Services/login_service\";\n\nconst LoginForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  const handleUsernameChange = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n  };\n\n  const postLogin = async event => {\n    event.preventDefault();\n\n    const credentials = {\n      username,\n      password\n    };\n\n    try {\n      const user = await LoginService.login(credentials);\n      setUser(user);\n      setUsername(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      <form>\n        username:{\" \"}\n        <input\n          onChange={handleUsernameChange}\n          value={username}\n          type=\"text\"\n        ></input>\n        <br />\n        password:{\" \"}\n        <input\n          onChange={handlePasswordChange}\n          value={password}\n          type=\"password\"\n        ></input>\n        <br />\n        <input onClick={postLogin} value=\"Login\" type=\"submit\"></input>\n      </form>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = async () => {\n  const response = await axios.get(baseURL);\n  return response.data;\n};\n\nconst create = async newPerson => {\n  const response = await axios.post(baseURL, newPerson);\n  return response.data;\n};\n\nconst update = async (id, updatedPerson) => {\n  const response = await axios.put(`${baseURL}/${id}`, updatedPerson);\n  return response.data;\n};\n\nconst remove = async id => {\n  const response = await axios.delete(`${baseURL}/${id}`);\n  return response.data;\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n};\n","import React, { useState, useEffect } from \"react\";\nimport Notification from \"./Notification\";\nimport LoginForm from \"./LoginForm\";\nimport phoneService from \"../Services/entry_service\";\n\nconst PhonebookApp = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [errorMessage, setMessage] = useState(\"\");\n\n  const getPersons = async () => {\n    const entries = await phoneService.getAll();\n    setPersons(entries);\n  };\n\n  useEffect(getPersons, []);\n\n  const personList = persons.map(person => {\n    if (\n      person.name\n        .toLowerCase()\n        .trim()\n        .includes(newFilter.toLowerCase().trim())\n    ) {\n      return (\n        <div key={person.name}>\n          <p>\n            {person.name} {person.number}\n          </p>\n          <button onClick={() => removeUser(person)}>delete</button>\n        </div>\n      );\n    }\n  });\n\n  const handleAddPerson = async event => {\n    event.preventDefault();\n    let match;\n    let answer;\n\n    const personObj = {\n      name: newName,\n      number: newNumber\n    };\n\n    persons.forEach(async person => {\n      if (person.name.toLowerCase().trim() === newName.toLowerCase().trim()) {\n        match = true;\n        answer = window.confirm(\n          `${newName} has already been added to the phonebook, would you like to replace the number?`\n        );\n        try {\n          if (answer) {\n            await phoneService.update(person.id, personObj);\n            const allUsers = await phoneService.getAll();\n            setPersons(allUsers);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    });\n\n    if (!match) {\n      try {\n        const newUser = phoneService.create(personObj);\n        setPersons(persons.concat(newUser));\n        setMessage(`Added ${newName}`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n\n  const handlePersonChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n  };\n\n  const removeUser = async person => {\n    try {\n      await phoneService.remove(person.id);\n      const allUsers = await phoneService.getAll();\n      setPersons(allUsers);\n    } catch (error) {\n      setMessage(\n        `Information for ${person.name} has already been removed from the server.`\n      );\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <h2>Log in to access the phonebook</h2>\n        <LoginForm />\n      </div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <div>\n        filter shown with{\" \"}\n        <input onChange={handleFilterChange} value={newFilter} />\n      </div>\n      <div>\n        <h2>Add New Number</h2>\n        <form onSubmit={handleAddPerson}>\n          <div>\n            name: <input onChange={handlePersonChange} value={newName} />\n          </div>\n          <div>\n            number: <input onChange={handleNumberChange} value={newNumber} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n      <h2>Numbers</h2>\n      <div>{personList}</div>\n    </div>\n  );\n};\n\nexport default PhonebookApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PhonebookApp from './Components/PhonebookApp';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<PhonebookApp />, document.getElementById('root'));;"],"sourceRoot":""}